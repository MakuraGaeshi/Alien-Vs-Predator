<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!--================================ Abstract bases ======================================-->

	<ThingDef Name="RRY_USCM_TurretBase" Abstract="True" ParentName="BuildingBase">
		<!-- <category>Building</category> -->
		<thingClass>Building</thingClass>
		<selectable>true</selectable>
		<drawerType>MapMeshAndRealTime</drawerType>
		<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
		<repairEffect>Repair</repairEffect>
		<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
		<filthLeaving>Filth_RubbleBuilding</filthLeaving>
	</ThingDef>


  <!--=============== UA 571-C Automated Sentry Gun ===============-->

	<ThingDef ParentName="RRY_USCM_TurretBase" >
		<defName>RRY_USCM_UA571C_Turret</defName>
		<label>UA 571-C Automated Sentry Gun</label>
		<description>The UA 571-C Automated Sentry Gun, known colloquially as the "Robot Sentry", is a tripod-mounted automated perimeter defense system employed by the United States Colonial Marine Corps to deliver pre-set automatic fire to any hostile within range or area targets. They are equipped with M30 Autocannons and automatic thermal and movement actuated AI targeting capabilities.</description>
		<thingClass>Building_TurretGun</thingClass>	
		<graphicData>
			<texPath>Things/Buildings/Security/UA571C</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(2,2)</drawSize>
		</graphicData>
		<altitudeLayer>Building</altitudeLayer>
		<stealable>false</stealable>
		<rotatable>true</rotatable>
		<passability>Impassable</passability>
		<pathCost>50</pathCost>
		<fillPercent>0.4</fillPercent>
		<castEdgeShadows>true</castEdgeShadows>
		<hasTooltip>true</hasTooltip>
		<minifiedDef>RRY_USCM_MinifiedUA571C</minifiedDef>
		<specialDisplayRadius>34</specialDisplayRadius>
		<tickerType>Normal</tickerType>			
		<thingCategories>
			<li>RRY_USCM_Turrets</li>
		</thingCategories>
		<statBases>
			<MaxHitPoints>180</MaxHitPoints>
			<Flammability>1.0</Flammability>
			<WorkToMake>500</WorkToMake>
			<Beauty>-60</Beauty>
			<Mass>30</Mass>
			<MarketValue>20000</MarketValue>
		</statBases>
		<staticSunShadowHeight>0.5</staticSunShadowHeight>
		<comps>		
			<li Class="CompProperties_Explosive">
			<explosiveRadius>3.9</explosiveRadius>
			<explosiveDamageType>Bomb</explosiveDamageType>
			<chanceNeverExplodeFromDamage>0.5</chanceNeverExplodeFromDamage>
			</li>
			<li Class="CompProperties_Forbiddable"/>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Refuelable">
				<fuelLabel>Shots until barrel change</fuelLabel>
				<fuelGizmoLabel>Barrel durability</fuelGizmoLabel>
				<fuelFilter>
					<thingDefs>
						<li>Steel</li>
					</thingDefs>
				</fuelFilter>
				<fuelCapacity>500</fuelCapacity>
				<initialFuelPercent>1</initialFuelPercent>
				<autoRefuelPercent>0.75</autoRefuelPercent>
				<showFuelGizmo>true</showFuelGizmo>
				<minimumFueledThreshold>1</minimumFueledThreshold>
				<fuelMultiplier>5</fuelMultiplier>
				<factorByDifficulty>true</factorByDifficulty>
				<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
				<outOfFuelMessage>Cannot shoot: Needs new barrel</outOfFuelMessage>
				<fuelIconPath>UI/Overlays/Barrel</fuelIconPath>
			</li>
		</comps>
		<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
		<building>
			<deconstructible>false</deconstructible>
			<ai_combatDangerous>true</ai_combatDangerous>
			<turretGunDef>RRY_Gun_UA571C_USCM</turretGunDef>
			<turretBurstCooldownTime>1</turretBurstCooldownTime>
			<turretTopGraphicPath>Things/Buildings/Security/UA571CGun</turretTopGraphicPath>
		</building>	
		<placeWorkers>
		  <li>PlaceWorker_TurretTop</li>
		</placeWorkers>
		<researchPrerequisites>
			<li>GunTurrets</li>
		</researchPrerequisites>
	</ThingDef>

</Defs>